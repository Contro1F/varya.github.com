<!doctype html>
<html class='no-js' lang=''>
    <head>
        <title>Isomorphic Example</title>
    </head>
    <body>
        <div id='contents'><div><h1>Docpad with the taste of BEM</h1><div><p>Let me present a stub for <strong>docpad-run</strong> project with
<strong>bem-built</strong> static assets. If you ever wanted to be
a generic blog holder equiped with nice and neat static
files, here we go.</p>
<excerpt/>

<h2 id="how-to-start">How to start</h2>
<p>You need install the docpad first. Follow their <a href="http://docpad.org/docs/install">Installation Guide</a>.</p>
<p>Then, the installation of the blog is super short and easy. Clone, fork or
copy from the <a href="https://github.com/varya/docpad-bem-stub">docpad-bem-stub repository</a>.
Then, go though the 3 installation steps:</p>
<pre><code class="lang-bash">npm install
./node_modules/bower-npm-install/bin/bower-npm-install
docpad run
</code></pre>
<p>With these 3 steps you will get:</p>
<ul>
<li>a local server with a generic docpad blog;</li>
<li><a href="http://bem.info/libs/bem-core/2.2.0/">bem-core</a> and <a href="http://bem.info/libs/bem-components/v2/">bem-components</a>
libraries of reusable CSS/JavaScript/templates code;</li>
<li>fully tuned static-build instructions which run on changes
in your source code;</li>
<li>initial blog structure.</li>
</ul>
<h2 id="how-to-write">How to write</h2>
<p>In the given structure you can write either pages or blog posts.
The posts are listed in the index page. Once you added a new
item, you can see it in this list and navigate to its page;
the docpad rebuilds from source automatically.</p>
<p>Place the pages as <code>*.html.md</code> files into <code>src/documents/pages</code>
directory. The posts are kept into <code>src/documents/posts</code>.</p>
<h2 id="how-to-develop-statics">How to develop statics</h2>
<p>The statics is developed with <a href="http://bem.info/">BEM</a>.
You can get CSS and JavaScript files for your pages in
<code>desktop.bundles</code> directory. The pages are built with blocks
from <code>desktop.blocks</code> folder.</p>
<p>The rebuild process for statics runs under docpad server.</p>
<p>Sometimes you may prefer to develop static pages separately.
For this run</p>
<pre><code>./node_modules/enb/bin/enb server
</code></pre><p>You will get another server which rebuilds statics. It
produces static html files from <code>*.bemjson.js</code> files in
<code>desktop.bundles</code>. You can develop the layout inserting
json there and providing <code>BEMHTML</code> templates for the
corresponding block. Find the documentation about <code>BEMHTML</code>
here:</p>
<ul>
<li><a href="http://bem.info/libs/bem-core/2.2.0/templating/intro/">BEMHTML quick start</a></li>
</ul>
<p>For the same blocks you can provide <code>*.css</code> and <code>*.js</code> files
and get them built into pages.</p>
<h2 id="how-to-publish">How to publish</h2>
<p>The blog is tuned to be deployed on GitHub. Thus, your
repository has to be named as <code>&lt;username&gt;.github.com</code>. You
can develop in its <code>source</code> branch. For deploying on
<code>&lt;username&gt;.github.io</code> host run this command:</p>
<pre><code class="lang-bash">docpad deploy-ghpages
</code></pre>
<p>This will create <code>master</code> branch of the repository whose
source is linked to the host.</p>
<p>You can also attach your own domain to the blog like I did.
Also, it is possible to host your blog in differently named
repository. However this will make you to provide changes
on <code>docpad.coffee</code> configuration file.<br/>
Study <a href="https://pages.github.com/">Github Pages</a> to learn more.</p>
<h2 id="why-docpad-">Why Docpad?</h2>
<p>This blog had been running on Jekyll for a while. This was an
acceptable soltuion for a quick start. However with the growth
of the posts base I started to suffer from not very fast
rebuilds. Also, sometimes providing changes into the blog
layout was hard, mostly due to the limitations of <code>liquid</code>
templates.</p>
<p>I’ve decided that <a href="http://docpad.org/">Docpad</a> should be much
better alternative. It is served as an npm package, possible to
be extended with plugins and has an active fast-growing
developers community.</p>
<p>The <code>docpad-bem-stub</code> gives you initial structure, from which
you already can write and publish. If you want to provide changes
into the build process, modify the templates or extend with
plugins, <a href="http://docpad.org/">learn at Docpad website</a>.</p>
<p>Moreover, <a href="http://stackoverflow.com/">Stackoverflow</a> indeed already
has an answer to almost all the questions you have. If not, create a new
one.</p>
<h2 id="why-bem-">Why BEM?</h2>
<p>BEM is a very flexible modular solution for frontend which
enables to develop reusable CSS and JavaScript components. Plus, some code
can be taken from their open source libraries.</p>
<p>You can learn a lot about BEM from <a href="/en/content">my articles and talks</a>
or at the <a href="http://bem.info/">official BEM site</a>.</p>
<h2 id="inside-about">Inside about</h2>
<p>Above I described all you need to know for using your blog. Below there
are a little more technical details on what is behind.</p>
<h3 id="enb">ENB</h3>
<p>I use <a href="https://github.com/enb-make/enb">enb</a> for building pages with block
components. This solution is preferable to bem-tools because of it is much
faster. When rebuilding pages on every change, this is sensetive.</p>
<h3 id="i-bem-js-and-modules">i-bem.js and modules</h3>
<p>I personally love that this solution brings <code>i-bem.js</code> library to the
project. Hope to demonstrate its amazing capabilities here in near future.
But before I stuff my blog with complex JavaScript components, you
can see some examples and very detailed explanations in <a href="http://bem.info/tutorials/bem-js-tutorial/">Step-by-step tutorial on
i-bem.js</a>.</p>
<p>Another JavaScript feature you can enjoy is <a href="/en/issues/ym-modular-system">YM modular system</a>.
These are JavaScript modules with asynchronious resolving.</p>
<h3 id="bemhtml">BEMHTML</h3>
<p>As mentioned above, <code>BEMHTML</code> is a templating solution. Being JavaScript-based,
these templates can be applied on both server and client side. There are
a couple of documents for a deeper dive into it here:</p>
<ul>
<li><a href="http://bem.info/libs/bem-core/2.2.0/templating/rationale/">BEMHTML templates description</a></li>
<li><a href="http://bem.info/libs/bem-core/2.2.0/templating/reference/">BEMHTML tutorial</a></li>
</ul>
<h3 id="bem-core-and-bem-components">bem-core and bem-components</h3>
<p>BEM is also nice for a possibility to borrow the components from libraries.
<code>docpad-bem-stub</code> uses 2 now available libraries:</p>
<ul>
<li><a href="http://bem.info/libs/bem-core/2.2.0/">bem-core</a></li>
<li><a href="http://bem.info/libs/bem-components/v2/">bem-components</a></li>
</ul>
<p>I hope to see more in the future.</p>
<h2 id="what-next-">What next?</h2>
<p>Indeed everything can be improved. These are my thoughts on how
to continue.</p>
<ul>
<li>detect changes in static files<br/>
Docpad watches over the changes in <code>src</code> directory. This means that
when developing statics you will not get the rebuild. I am thinking
on running <code>enb server</code> under <code>docpad run</code> and proxy. This maybe
better than watch over a lot of files in <code>desktop.blocks</code>, <code>desktop.bundles</code>
and all the libraries.</li>
<li>css preprocessors<br/>
The blog styles are in pure CSS now. But with a little
change into enb configuration we can learn it to build with
preprocessors.</li>
<li>fresh design<br/>
Creating a simple layout is the most difficult design task. Don’t you agree?</li>
<li>nice initial posts<br/>
This is even harder than the desing tasks but I think the users feel much
more comfortable when getting a blog with predefined texts.</li>
</ul>
<p>If you feel your oats and want to do your bit, fork <a href="https://github.com/varya/docpad-bem-stub">the repository</a>
and start :-)</p>
</div></div></div>

        <script src='bundle.js'></script>
    </body>
</html>

